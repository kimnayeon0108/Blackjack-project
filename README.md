# Blackjack-project   
## 일인용 블랙잭 게임 구현   

코드스쿼드 코코아 과정 5주차 개인프로젝트를 1인용 블랙잭 구현으로 해보았다.   

### How to play blackjack   
- 딜러 vs 플레이어   
- 카드 숫자를 합쳐서 21에 더 가까우면 이기는 게임   
    
- 핸드별로 원하는 액수의 금액을 베팅한다.   
- 미니멈, 맥시멈 범위는 각 핸드별로 지정 된다. (본 게임에서는 10,000 ~100,000 원까지)   
- 배당율은 베팅한 금액만큼 받는다.   
   
    ex) 1만원 베팅하고 이겼으면 2만원 획득!   
        
    지면 1만원을 잃는다.    
       
- 카드의 값은 조커를 제외하고 1부터 10까지로 카운팅된다. (A 는 1 또는 11로, JQK은 10으로)   
- 한덱의 카드는 52장으로 총 6덱의 카드로 진행된다.   
- 플레이어는 3개의 핸드까지만 게임을 진행할 수 있다.   
- 기본적으로 두 장의 카드를 받고, 딜러는 한 장의 카드만 받는다.   
- 21이 되기 전까지 계속 카드를 받을 수 있다.   
   
- blackjack : A카드와 10의 값을 가지는 카드 단 두 장일 경우, 플레이어가 블랙잭이면 1.5배의 금액을 추가로 얻는다.   
   
# 게임 진행 순서   
 
1. 플레이어가 게임할 핸드의 수를 정한다. 
2. 각 핸드 마다 베팅 금액을 정한다.
3. 딜러가 카드를 정해진 순서대로 배분한다.

    ex) one 핸드 일 경우, 플레이어 → 딜러 → 플레이어 순으로 카드 배분

    two 핸드 일 경우, 핸드 1 → 핸드 2 → 딜러 → 핸드1 → 핸드 2 순으로

4. 핸드 순서대로 hit, stay 를 받는다.
- hit :  카드를 한 장 더 받는 것
- stay :  카드를 더 이상 받지 않는 것
- over : 핸드의 총 합이 21 초과인 경우

              이 경우에 해당 핸드는 loosing 

5.  딜러가 카드를 받는다. 

- 딜러는 카드의 총 합이 17 이상일 경우 더이상 카드를 받지 않는다.
- bust : 딜러의 총 합이 21 초과일 경우를 뜻함, 이 경우에는 딜러가 loosing 하고, 플레이어의 모든 핸드가 win

    ex) 딜러 카드 합이 16이여서 한 장 더 받았는데 다음 카드 값이 10이면 총합 26으로 bust 

- 딜러 카드 중 ace 카드 가 있을 경우, 1 또는 11로 계산하여 그 값이 17이상이면 딜러는 더이상 카드를 받지 않는다. ( 11로 계산 하였을 때, 21 초과의 값 일 경우에는 1로 계산됨)

6. 딜러와 플레이어의 카드 총 합을 비교해서 21 이하로 값이 더 큰 사람이 win

- push : 딜러와 플레이어의 카드 합이 같아서 비기는 경우
   
### 세단계로 나누어서 구현   

1. 게임 전 단계 (player 입력 받기, 카드 생성, 하우스 생성, 칩스 구매)   
2. 게임 단계 (베팅하기, 카드 divide 받기, value 값 계산, hit stay 받기)   
3. 게임 처리 단계 (win loose 에 따른 처리)   

* 일단 콘솔로 구현해 보고, 가능하면 GUI 로 구현할 예정   
* 주제 선정 이유: 인터넷에 이미 예제로 많이 알려져 있지만 나 혼자 처음부터 로직을 짜고 구현하고 싶어서    
  블랙잭게임구현에 대한 검색은 하지 않고 혼자 진행해보았다.   

# 규칙

- player 당 3 hands까지 가능 (일인용이기때문에 3hands 까지만 베팅할 수 있도록 구현함)
- 한 hand 당 베팅 가능 범위 min 1만원, max 10만원
- 6덱의 카드로 게임 진행
- ace 카드는 1이나 11 두가지로 카운팅 된다.
- 해당 핸드가 블랙잭일 경우 hit stay 받지 않는다.

# class 별 역할

### Dealer

- 딜러, 보유금액 1억
- dValueArr 는 Table 클래스의 dealerGetCard() 메소드에서 딜러가 받은 카드 중 ace 유무를 판별하기 위해서 선언한 변수

### Player
- 사용자, 이름 설정 가능, 초기 보유 금액 300만원 부여됨
- Table에서 보유 금액 칩스로 교환 가능

### Card
- Card 클래스의 객체 생성 시 6덱의 카드 생성 및 셔플 진행됨
- 카드의 숫자 부분과 모양 부분을 배열로 설정하고, getOneDeckCard() 메소드로 한 덱의 카드 생성,
- suffleCard() 메소드로 6덱의 카드 생성하고, Collections.suffle() 메소드로 셔플 진행
- getCardValue() 메소드로 셔플된 카드에 맞는 value 배열 생성

### Hands
- 플레이어가 정한 핸드 수 만큼 Hands 객체 생성

### Table
- 본격적인 게임 진행
- Table 의 객체 생성 시 플레이어 입력 받기, 칩스 구매, 카드 객체 생성(6덱의 셔플된 카드 생성됨)
- startGame() 메소드 이후 부터는 Thread.sleep 기능을 사용하기 위해 run() 메소드 안에서 실행되도록 구현


## 함수 별 역할과 특징

### buyChips()

- 원활한 진행을 위해 만원 단위로만 구매 가능하도록 구현
- java.text 패키지에 있는 DecimalFormat 클래스의 format() 메소드를 이용하여 천 단위로 콤마 표시하도록 함

### payTake()

- 우선순위를 두고, 순서대로 if 절을 나열해야 함
- 딜러 버스트 인 경우가 딜러 value 가 손님 value 보다 클때 보다 위에 있어야 한다. 딜러 버스트인 경우는 무조건 21이상인 경우이기 때문이다.

### chooseNumOfHands()

- 3이상의 핸드수를 선택 시 다시 선택하도록 함
- 보유 칩스 금액이 선택한 핸드에 미니멈 베팅을 못할 경우, 칩스 구매 또는 핸드 수 해당 메소드 다시 호출하도록 함 → *이게 좋은 방법인가..*

### betChips()

- 보유한 금액에 맞게 베팅할 수 있도록 구현
- 미니멈, 맥시멈 조건에 맞지 않거나 보유 칩스량이 부족하면 다시 입력하도록 함

### sumHandsValue()

- 핸드별 value의 총합을 구해서 Hands 객체의 totalValue 에 담는 메소드

### printDividedCards()

- ace 카드 유무, 블랙잭 여부에 따라서 다르게 출력하도록 구현

### dealerGetCard()

- 딜러가 받은 카드 중 ace 유무에 따라 다르게 카운팅 되기 때문에 제일 구현하기 어려웠던 부분
- ace 카드가 11로 간주될 때, 17이상이면 더이상 카드를 받지 않고, 21이 넘으면 ace는 1로 세어지도록 구현
- bust 인 경우의 if 절은 메소드의 맨 마지막에 배치하여 bust 여부 파악하도록 함

### payTake()

- 각각의 상황에 맞게 win(), loose(), push() 중 하나를 호출하도록 함
- 플레이어가 블랙잭일 때, 1.5배의 금액을 추가로 받는 winBJ() 메소드 호출하도록 함
